import{r as D,R as H,S as T,T as U,U as M,V as L,u as I,J as V,W as F,h as A,X as G,Y as j,p as J,Z as R,$ as B,a0 as Q,a1 as X,c as p,d as Y,j as Z,o as K,e as ee,_ as te,f as b,k as x,A as k,s as S,q as z,m as y,l as P,v as E,t as w,Q as $}from"./entry.ff02aa95.js";const ie=()=>null;function Ne(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(t);let[a,r,n={}]=e;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");n.server=n.server??!0,n.default=n.default??ie,n.lazy=n.lazy??!1,n.immediate=n.immediate??!0;const i=I(),d=()=>i.isHydrating?i.payload.data[a]:i.static.data[a],f=()=>d()!==void 0;(!i._asyncData[a]||!n.immediate)&&(i._asyncData[a]={data:D(d()??n.default()),pending:D(!f()),error:H(i.payload._errors,a),status:D("idle")});const s={...i._asyncData[a]};s.refresh=s.execute=(c={})=>{if(i._asyncDataPromises[a]){if(c.dedupe===!1)return i._asyncDataPromises[a];i._asyncDataPromises[a].cancelled=!0}if((c._initial||i.isHydrating&&c._initial!==!1)&&f())return d();s.pending.value=!0,s.status.value="pending";const o=new Promise((l,h)=>{try{l(r(i))}catch(_){h(_)}}).then(l=>{if(o.cancelled)return i._asyncDataPromises[a];let h=l;n.transform&&(h=n.transform(l)),n.pick&&(h=ae(h,n.pick)),s.data.value=h,s.error.value=null,s.status.value="success"}).catch(l=>{if(o.cancelled)return i._asyncDataPromises[a];s.error.value=l,s.data.value=V(n.default()),s.status.value="error"}).finally(()=>{o.cancelled||(s.pending.value=!1,i.payload.data[a]=s.data.value,s.error.value&&(i.payload._errors[a]=F(s.error.value)),delete i._asyncDataPromises[a])});return i._asyncDataPromises[a]=o,i._asyncDataPromises[a]};const g=()=>s.refresh({_initial:!0}),m=n.server!==!1&&i.payload.serverRendered;{const c=T();if(c&&!c._nuxtOnBeforeMountCbs){c._nuxtOnBeforeMountCbs=[];const l=c._nuxtOnBeforeMountCbs;c&&(U(()=>{l.forEach(h=>{h()}),l.splice(0,l.length)}),M(()=>l.splice(0,l.length)))}m&&i.isHydrating&&f()?(s.pending.value=!1,s.status.value=s.error.value?"error":"success"):c&&(i.payload.serverRendered&&i.isHydrating||n.lazy)&&n.immediate?c._nuxtOnBeforeMountCbs.push(g):n.immediate&&g(),n.watch&&L(n.watch,()=>s.refresh());const o=i.hook("app:data:refresh",l=>{if(!l||l.includes(a))return s.refresh()});c&&M(o)}const u=Promise.resolve(i._asyncDataPromises[a]).then(()=>s);return Object.assign(u,s),u}function ae(e,t){const a={};for(const r of t)a[r]=e[r];return a}async function ne(e,t){return await re(t).catch(r=>(console.error("Failed to get image meta for "+t,r+""),{width:0,height:0,ratio:0}))}async function re(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,a)=>{const r=new Image;r.onload=()=>{const n={width:r.width,height:r.height,ratio:r.width/r.height};t(n)},r.onerror=n=>a(n),r.src=e})}function C(e){return t=>t?e[t]||t:e.missingValue}function se({formatter:e,keyMap:t,joinWith:a="/",valueMap:r}={}){e||(e=(i,d)=>`${i}=${d}`),t&&typeof t!="function"&&(t=C(t));const n=r||{};return Object.keys(n).forEach(i=>{typeof n[i]!="function"&&(n[i]=C(n[i]))}),(i={})=>Object.entries(i).filter(([f,s])=>typeof s<"u").map(([f,s])=>{const g=n[f];return typeof g=="function"&&(s=g(i[f])),f=typeof t=="function"?t(f):f,e(f,s)}).join(a)}function v(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return parseInt(e,10)}function oe(e){const t={options:e},a=(n,i={})=>W(t,n,i),r=(n,i={},d={})=>a(n,{...d,modifiers:R(i,d.modifiers||{})}).url;for(const n in e.presets)r[n]=(i,d,f)=>r(i,d,{...e.presets[n],...f});return r.options=e,r.getImage=a,r.getMeta=(n,i)=>ce(t,n,i),r.getSizes=(n,i)=>le(t,n,i),t.$img=r,r}async function ce(e,t,a){const r=W(e,t,{...a});return typeof r.getMeta=="function"?await r.getMeta():await ne(e,r.url)}function W(e,t,a){var g,m;if(typeof t!="string"||t==="")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(t.startsWith("data:"))return{url:t};const{provider:r,defaults:n}=de(e,a.provider||e.options.provider),i=ue(e,a.preset);if(t=A(t)?t:G(t),!r.supportsAlias)for(const u in e.options.alias)t.startsWith(u)&&(t=j(e.options.alias[u],t.substr(u.length)));if(r.validateDomains&&A(t)){const u=J(t).host;if(!e.options.domains.find(c=>c===u))return{url:t}}const d=R(a,i,n);d.modifiers={...d.modifiers};const f=d.modifiers.format;(g=d.modifiers)!=null&&g.width&&(d.modifiers.width=v(d.modifiers.width)),(m=d.modifiers)!=null&&m.height&&(d.modifiers.height=v(d.modifiers.height));const s=r.getImage(t,d,e);return s.format=s.format||f||"",s}function de(e,t){const a=e.options.providers[t];if(!a)throw new Error("Unknown provider: "+t);return a}function ue(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function le(e,t,a){var g,m;const r=v((g=a.modifiers)==null?void 0:g.width),n=v((m=a.modifiers)==null?void 0:m.height),i=r&&n?n/r:0,d=[],f={};if(typeof a.sizes=="string")for(const u of a.sizes.split(/[\s,]+/).filter(c=>c)){const c=u.split(":");c.length===2&&(f[c[0].trim()]=c[1].trim())}else Object.assign(f,a.sizes);for(const u in f){const c=e.options.screens&&e.options.screens[u]||parseInt(u);let o=String(f[u]);const l=o.endsWith("vw");if(!l&&/^\d+$/.test(o)&&(o=o+"px"),!l&&!o.endsWith("px"))continue;let h=parseInt(o);if(!c||!h)continue;l&&(h=Math.round(h/100*c));const _=i?Math.round(h*i):n;d.push({width:h,size:o,screenMaxWidth:c,media:`(max-width: ${c}px)`,src:e.$img(t,{...a.modifiers,width:h,height:_},a)})}d.sort((u,c)=>u.screenMaxWidth-c.screenMaxWidth);const s=d[d.length-1];return s&&(s.media=""),{sizes:d.map(u=>`${u.media?u.media+" ":""}${u.size}`).join(", "),srcset:d.map(u=>`${u.src} ${u.width}w`).join(", "),src:s==null?void 0:s.src}}const fe=se({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,t)=>B(e)+"_"+B(t)}),me=(e,{modifiers:t={},baseURL:a}={},r)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const n=fe(t)||"_";return a||(a=j(r.options.nuxt.baseURL,"/_ipx")),{url:j(a,n,Q(e))}},ge=!0,he=!0,ve=Object.freeze(Object.defineProperty({__proto__:null,getImage:me,supportsAlias:he,validateDomains:ge},Symbol.toStringTag,{value:"Module"})),q={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipx",domains:[],alias:{}};q.providers={ipx:{provider:ve,defaults:void 0}};const ye=()=>{const e=X(),t=I();return t.$img||t._img||(t._img=oe({...q,nuxt:{baseURL:e.app.baseURL}}))},pe={src:{type:String,required:!0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},preload:{type:Boolean,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)}},_e=e=>{const t=p(()=>({provider:e.provider,preset:e.preset})),a=p(()=>({width:v(e.width),height:v(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding})),r=p(()=>({...e.modifiers,width:v(e.width),height:v(e.height),format:e.format,quality:e.quality,background:e.background,fit:e.fit}));return{options:t,attrs:a,modifiers:r}},we={...pe,placeholder:{type:[Boolean,String,Number,Array],default:void 0}},be=Y({name:"NuxtImg",props:we,emits:["load","error"],setup:(e,t)=>{const a=ye(),r=_e(e),n=D(!1),i=p(()=>a.getSizes(e.src,{...r.options.value,sizes:e.sizes,modifiers:{...r.modifiers.value,width:v(e.width),height:v(e.height)}})),d=p(()=>{const o={...r.attrs.value,"data-nuxt-img":""};return e.sizes&&(o.sizes=i.value.sizes,o.srcset=i.value.srcset),o}),f=p(()=>{let o=e.placeholder;if(o===""&&(o=!0),!o||n.value)return!1;if(typeof o=="string")return o;const l=Array.isArray(o)?o:typeof o=="number"?[o,o]:[10,10];return a(e.src,{...r.modifiers.value,width:l[0],height:l[1],quality:l[2]||50},r.options.value)}),s=p(()=>e.sizes?i.value.src:a(e.src,r.modifiers.value,r.options.value)),g=p(()=>f.value?f.value:s.value);if(e.preload){const o=Object.values(i.value).every(l=>l);Z({link:[{rel:"preload",as:"image",...o?{href:i.value.src,imagesizes:i.value.sizes,imagesrcset:i.value.srcset}:{href:g.value}}]})}const m=D(),c=I().isHydrating;return K(()=>{if(f.value){const o=new Image;o.src=s.value,o.onload=l=>{m.value&&(m.value.src=s.value),n.value=!0,t.emit("load",l)};return}m.value&&(m.value.complete&&c&&(m.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),m.value.onload=o=>{t.emit("load",o)},m.value.onerror=o=>{t.emit("error",o)})}),()=>ee("img",{ref:m,key:g.value,src:g.value,...d.value,...t.attrs})}});const xe={key:0},Se=["href"],ze={key:1},De={class:"d-flex justify-space-between align-center"},$e={key:1},Pe=["href"],je={__name:"Noticia",props:{noticia:Object},setup(e){return(t,a)=>{const r=b("v-chip"),n=b("v-card-text"),i=b("v-col"),d=be,f=b("v-divider"),s=b("v-row");return x(),k(s,null,{default:S(()=>[z(i,{cols:"12",md:"6",class:"pb-0 pt-0"},{default:S(()=>[z(n,{class:"noticia_desarrollo d-flex flex-column justify-space-between"},{default:S(()=>{var g,m,u,c,o,l,h,_,N;return[y("div",null,[(g=e.noticia)!=null&&g.autor?(x(),P("p",xe,[E("Autor:"),y("b",null,w((m=e.noticia)==null?void 0:m.autor),1)])):$("",!0),y("a",{href:`/noticias/${(u=e.noticia)==null?void 0:u.id}`},[y("h2",null,w((c=e.noticia)==null?void 0:c.titulo),1)],8,Se),(o=e.noticia)!=null&&o.cabecera?(x(),P("p",ze,w((l=e.noticia)==null?void 0:l.cabecera.substring(0,100))+"...",1)):$("",!0)]),y("div",De,[(h=e.noticia)!=null&&h.tipo?(x(),k(r,{key:0,class:"ma-2",label:""},{default:S(()=>{var O;return[E(w((O=e.noticia)==null?void 0:O.tipo),1)]}),_:1})):$("",!0),(_=e.noticia)!=null&&_.fecha?(x(),P("span",$e,w((N=e.noticia)==null?void 0:N.fecha),1)):$("",!0)])]}),_:1})]),_:1}),z(i,{cols:"12",md:"6"},{default:S(()=>{var g,m,u,c;return[y("a",{href:`/noticias/${(g=e.noticia)==null?void 0:g.id}`},[y("figure",null,[z(d,{src:(m=e.noticia)==null?void 0:m.url,alt:(u=e.noticia)==null?void 0:u.imgDescription,class:"noticias-container__img mt-2 mb-2"},null,8,["src","alt"]),y("figcaption",null,w((c=e.noticia)==null?void 0:c.imgDescription),1)])],8,Pe)]}),_:1}),z(f)]),_:1})}}},Oe=te(je,[["__scopeId","data-v-ef608ac4"]]);export{Oe as N,be as _,Ne as u};
